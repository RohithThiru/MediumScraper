{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./App.css';import{DotLoader}from'react-spinners';// Import DotLoader from react-spinners\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Loader(){return/*#__PURE__*/_jsxs(\"div\",{className:\"loader-container\",children:[/*#__PURE__*/_jsx(DotLoader,{color:\"#36D7B7\",loading:true,size:50}),\" \"]});}function App(){const[query,setQuery]=useState('');const[results,setResults]=useState([]);const[error,setError]=useState('');const[loading,setLoading]=useState(false);// State to manage loading status\n// Function to fetch data from the server\nconst fetchData=async()=>{setLoading(true);// Set loading to true when fetching data\nsetError('');try{const response=await axios.get(\"http://localhost:3000/search?q=\".concat(encodeURIComponent(query)));if(!response.data||!Array.isArray(response.data)){throw new Error('Invalid response from server');}setResults(response.data);// Store fetched data in local storage\nlocalStorage.setItem('searchResults',JSON.stringify(response.data));}catch(error){console.error('Error fetching data:',error);setError('Error fetching data: '+error.message);}finally{setLoading(false);// Set loading to false after fetching data\n}};// Function to load cached data from local storage\nconst loadCachedData=()=>{const cachedResults=localStorage.getItem('searchResults');if(cachedResults){setResults(JSON.parse(cachedResults));}};useEffect(()=>{// Load cached data when the component mounts\nloadCachedData();// Load the saved query text from local storage\nconst savedQuery=localStorage.getItem('searchQuery');if(savedQuery){setQuery(savedQuery);}},[]);// Empty dependency array ensures this effect runs only once when the component mounts\n// Function to handle form submission\nconst handleSearch=async event=>{event.preventDefault();await fetchData();// Fetch data from the server\n// Store the search query text in local storage\nlocalStorage.setItem('searchQuery',query);};// Function to handle changes in the search input\nconst handleInputChange=event=>{setQuery(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Medium Search\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSearch,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:query,onChange:handleInputChange// Handle input change\n,placeholder:\"Enter search term\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Search\"})]}),loading?/*#__PURE__*/ // Only display loader if loading is true\n_jsx(Loader,{}):/*#__PURE__*/_jsxs(\"div\",{children:[error&&/*#__PURE__*/_jsx(\"p\",{children:error}),results.length>0?results.map((result,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"result\",children:[/*#__PURE__*/_jsx(\"h3\",{children:result.title}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Author: \",result.author]}),/*#__PURE__*/_jsx(\"a\",{href:result.blogUrl,children:\"read blog\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"a\",{href:result.url,target:\"_blank\",rel:\"noopener noreferrer\",children:\"Read more\"})]},index)):/*#__PURE__*/_jsx(\"p\",{children:\"No results found\"})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","axios","DotLoader","jsx","_jsx","jsxs","_jsxs","Loader","className","children","color","loading","size","App","query","setQuery","results","setResults","error","setError","setLoading","fetchData","response","get","concat","encodeURIComponent","data","Array","isArray","Error","localStorage","setItem","JSON","stringify","console","message","loadCachedData","cachedResults","getItem","parse","savedQuery","handleSearch","event","preventDefault","handleInputChange","target","value","onSubmit","type","onChange","placeholder","length","map","result","index","title","author","href","blogUrl","url","rel"],"sources":["C:/Users/ROHIT/OneDrive/Desktop/medium-search/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './App.css';\r\nimport { DotLoader } from 'react-spinners'; // Import DotLoader from react-spinners\r\n\r\nfunction Loader() {\r\n    return (\r\n        <div className=\"loader-container\">\r\n            <DotLoader color=\"#36D7B7\" loading={true} size={50} /> {/* DotLoader component */}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction App() {\r\n    const [query, setQuery] = useState('');\r\n    const [results, setResults] = useState([]);\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false); // State to manage loading status\r\n\r\n    // Function to fetch data from the server\r\n    const fetchData = async () => {\r\n        setLoading(true); // Set loading to true when fetching data\r\n        setError('');\r\n        try {\r\n            const response = await axios.get(`http://localhost:3000/search?q=${encodeURIComponent(query)}`);\r\n            if (!response.data || !Array.isArray(response.data)) {\r\n                throw new Error('Invalid response from server');\r\n            }\r\n            setResults(response.data);\r\n            // Store fetched data in local storage\r\n            localStorage.setItem('searchResults', JSON.stringify(response.data));\r\n        } catch (error) {\r\n            console.error('Error fetching data:', error);\r\n            setError('Error fetching data: ' + error.message);\r\n        } finally {\r\n            setLoading(false); // Set loading to false after fetching data\r\n        }\r\n    };\r\n\r\n    // Function to load cached data from local storage\r\n    const loadCachedData = () => {\r\n        const cachedResults = localStorage.getItem('searchResults');\r\n        if (cachedResults) {\r\n            setResults(JSON.parse(cachedResults));\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        // Load cached data when the component mounts\r\n        loadCachedData();\r\n        // Load the saved query text from local storage\r\n        const savedQuery = localStorage.getItem('searchQuery');\r\n        if (savedQuery) {\r\n            setQuery(savedQuery);\r\n        }\r\n    }, []); // Empty dependency array ensures this effect runs only once when the component mounts\r\n\r\n    // Function to handle form submission\r\n    const handleSearch = async (event) => {\r\n        event.preventDefault();\r\n        await fetchData(); // Fetch data from the server\r\n        // Store the search query text in local storage\r\n        localStorage.setItem('searchQuery', query);\r\n    };\r\n\r\n    // Function to handle changes in the search input\r\n    const handleInputChange = (event) => {\r\n        setQuery(event.target.value);\r\n    };\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <h1>Medium Search</h1>\r\n            <form onSubmit={handleSearch}>\r\n                <input\r\n                    type=\"text\"\r\n                    value={query}\r\n                    onChange={handleInputChange} // Handle input change\r\n                    placeholder=\"Enter search term\"\r\n                />\r\n                <button type=\"submit\">Search</button>\r\n            </form>\r\n            {loading ? ( // Only display loader if loading is true\r\n                <Loader />\r\n            ) : (\r\n                <div>\r\n                    {error && <p>{error}</p>}\r\n                    {results.length > 0 ? (\r\n                        results.map((result, index) => (\r\n                            <div key={index} className=\"result\">\r\n                                <h3>{result.title}</h3>\r\n                                <p>Author: {result.author}</p>\r\n\r\n                                <a href={result.blogUrl}>read blog</a>\r\n                                <br></br>\r\n                                <a href={result.url} target=\"_blank\" rel=\"noopener noreferrer\">Read more</a>\r\n                            </div>\r\n                        ))\r\n                    ) : (\r\n                        <p>No results found</p>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}